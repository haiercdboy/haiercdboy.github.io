<!doctype html>
<html>
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no" />
<title>事件绑定与解绑</title>
<style type="text/css">
html,
body{
	margin: 0;
	height: 100%;
	overflow: hidden;
}
.demo{
	background: #eee;
	padding: 100px 0;
	text-align: center;
}
</style>
</head>

<body>
<div class="demo">
	
</div>

<script src="/static_proxy/Tea.js"></script>
<script>
Tea.config({
    base: "../js",
});

Tea.use(["core/Controller", "lib/zepto"], function(Controller, $){
	var Demo = Controller.extend({
		el: '.demo',
		defaults: {
			age: 18
		},
		events: {
			'change:name': 'onNameChanged'
		},
		initialize: function(){
			var me = this;
			setInterval(function(){
				me.trigger('change:name');
			}, 1000)
		},
		onNameChanged: function(){
			console.log('event triggered!');
		}
	});
	
	var demo = new Demo,
		n = 0;
	
	$('body').on('click', function(){
		n % 2 === 0 ? demo.off() : demo.detect();
		n++;
	});
});
</script>

</body>
</html>